{"configuration":{"scope":"SoftwareSystem"},"description":"Full Architecture in C4 Notation","documentation":{},"id":5,"lastModifiedAgent":"structurizr-onpremises/dsl-editor/95bf6d5e-649b-47a6-832e-e0101aeae6a3","lastModifiedDate":"2025-03-21T21:14:44Z","lastModifiedUser":"jabrena","model":{"people":[{"description":"Use app for searching user partner","id":"1","location":"Unspecified","name":"Client","properties":{"structurizr.dsl.identifier":"user"},"relationships":[{"description":"Uses","destinationId":"2","id":"29","sourceId":"1","tags":"Relationship"}],"tags":"Element,Person"}],"properties":{"structurizr.groupSeparator":"/"},"softwareSystems":[{"containers":[{"description":"Application for interacting with UI","documentation":{},"group":"UI","id":"3","name":"Mobile App","properties":{"structurizr.dsl.identifier":"app"},"relationships":[{"description":"Use for sending request and receiving some data","destinationId":"4","id":"23","sourceId":"3","tags":"Relationship"}],"tags":"Element,Container,MobileAppTag"},{"description":"Service for routing traffic","documentation":{},"group":"Backend","id":"4","name":"Api Gateway","properties":{"structurizr.dsl.identifier":"api_gateway"},"relationships":[{"description":"Use for sending and receiving messages","destinationId":"6","id":"24","sourceId":"4","tags":"Relationship"},{"description":"Use for login / logout / refresh access token","destinationId":"12","id":"25","sourceId":"4","tags":"Relationship"},{"description":"Use for editing appointment preferences / available time slots","destinationId":"15","id":"26","sourceId":"4","tags":"Relationship"},{"description":"Use for joining to groups / sending form and invitations / creating and administrating groups","destinationId":"18","id":"27","sourceId":"4","tags":"Relationship"}],"tags":"Element,Container"},{"description":"Broker for sending events through microservices","documentation":{},"group":"Backend","id":"5","name":"Kafka","properties":{"structurizr.dsl.identifier":"kafka"},"relationships":[{"description":"Consume creating chat event and do it","destinationId":"6","id":"22","sourceId":"5","tags":"Relationship"}],"tags":"Element,Container,MessageQueueTag"},{"description":"Service for user chatting","documentation":{},"group":"Backend/Chat service","id":"6","name":"Chat service","properties":{"structurizr.dsl.identifier":"chat_service"},"relationships":[{"description":"Read/Write messages","destinationId":"7","id":"10","sourceId":"6","tags":"Relationship"},{"description":"Send message from user","destinationId":"8","id":"11","sourceId":"6","tags":"Relationship"}],"tags":"Element,Container"},{"description":"Storage for messages and chats","documentation":{},"group":"Backend/Chat service","id":"7","name":"Postgres Database [chat schema]","properties":{"structurizr.dsl.identifier":"postgres_db_chat_schema"},"tags":"Element,Container,DatabaseTag"},{"description":"Responsible for routing messages in Chat service instances","documentation":{},"group":"Backend/Chat service","id":"8","name":"ActiveMQ Artemis","properties":{"structurizr.dsl.identifier":"active_mq_artemis"},"relationships":[{"description":"Send message for user in Chat service instances","destinationId":"6","id":"9","sourceId":"8","tags":"Relationship"}],"tags":"Element,Container,MessageQueueTag"},{"description":"Service for user authentication/authorization","documentation":{},"group":"Backend/Auth service","id":"12","name":"Auth service","properties":{"structurizr.dsl.identifier":"auth_service"},"relationships":[{"description":"Read/Write user authentication data","destinationId":"13","id":"14","sourceId":"12","tags":"Relationship"}],"tags":"Element,Container"},{"description":"Storage for user authentication data","documentation":{},"group":"Backend/Auth service","id":"13","name":"Postgres Database [auth schema]","properties":{"structurizr.dsl.identifier":"postgres_db_auth_schema"},"tags":"Element,Container,DatabaseTag"},{"description":"Service for user appointment matching","documentation":{},"group":"Backend/Matcher service","id":"15","name":"Matcher service","properties":{"structurizr.dsl.identifier":"matcher_service"},"relationships":[{"description":"Read/Write appointment data","destinationId":"16","id":"17","sourceId":"15","tags":"Relationship"},{"description":"Send creating chats events after matching","destinationId":"5","id":"21","sourceId":"15","tags":"Relationship"}],"tags":"Element,Container"},{"description":"Storage for appointments and walk prefferences data","documentation":{},"group":"Backend/Matcher service","id":"16","name":"Postgres Database [matcher schema]","properties":{"structurizr.dsl.identifier":"postgres_db_matcher_schema"},"tags":"Element,Container,DatabaseTag"},{"description":"Service for user club joining","documentation":{},"group":"Backend/Club service","id":"18","name":"Club service","properties":{"structurizr.dsl.identifier":"club_service"},"relationships":[{"description":"Read/Write club data","destinationId":"19","id":"20","sourceId":"18","tags":"Relationship"}],"tags":"Element,Container"},{"description":"Storage for clubs and forms data","documentation":{},"group":"Backend/Club service","id":"19","name":"Postgres Database [club schema]","properties":{"structurizr.dsl.identifier":"postgres_db_club_schema"},"tags":"Element,Container,DatabaseTag"}],"description":"Service for searching walk partners","documentation":{},"id":"2","location":"Unspecified","name":"Random Walk","properties":{"structurizr.dsl.identifier":"random_walk"},"relationships":[{"description":"Uses for authorization","destinationId":"28","id":"30","sourceId":"2","tags":"Relationship"}],"tags":"Element,Software System"},{"description":"Authorization provider for simple and fast login","documentation":{},"id":"28","location":"Unspecified","name":"OAuth Google provider","properties":{"structurizr.dsl.identifier":"google_oauth_provider"},"tags":"Element,Software System"}]},"name":"Random Walk Architecture","properties":{"structurizr.dsl":"d29ya3NwYWNlICJSYW5kb20gV2FsayBBcmNoaXRlY3R1cmUiICJGdWxsIEFyY2hpdGVjdHVyZSBpbiBDNCBOb3RhdGlvbiIgewogICAgbW9kZWwgewogICAgICAgIHByb3BlcnRpZXMgewogICAgICAgICAgICAic3RydWN0dXJpenIuZ3JvdXBTZXBhcmF0b3IiICIvIgogICAgICAgIH0KICAgICAgICB1c2VyID0gcGVyc29uICJDbGllbnQiICJVc2UgYXBwIGZvciBzZWFyY2hpbmcgdXNlciBwYXJ0bmVyIgogICAgICAgIHJhbmRvbV93YWxrID0gc29mdHdhcmVTeXN0ZW0gIlJhbmRvbSBXYWxrIiAiU2VydmljZSBmb3Igc2VhcmNoaW5nIHdhbGsgcGFydG5lcnMiIHsKICAgICAgICAgICAgZ3JvdXAgIlVJIiB7CiAgICAgICAgICAgICAgICBhcHAgPSBjb250YWluZXIgIk1vYmlsZSBBcHAiICJBcHBsaWNhdGlvbiBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBVSSIgewogICAgICAgICAgICAgICAgICAgIHRhZ3MgIk1vYmlsZUFwcFRhZyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBncm91cCAiQmFja2VuZCIgewogICAgICAgICAgICAgICAgYXBpX2dhdGV3YXkgPSBjb250YWluZXIgIkFwaSBHYXRld2F5IiAiU2VydmljZSBmb3Igcm91dGluZyB0cmFmZmljIgogICAgICAgICAgICAgICAga2Fma2EgPSBjb250YWluZXIgIkthZmthIiAiQnJva2VyIGZvciBzZW5kaW5nIGV2ZW50cyB0aHJvdWdoIG1pY3Jvc2VydmljZXMiIHsKICAgICAgICAgICAgICAgICAgICB0YWdzICJNZXNzYWdlUXVldWVUYWciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBncm91cCAiQ2hhdCBzZXJ2aWNlIiB7CiAgICAgICAgICAgICAgICAgICAgY2hhdF9zZXJ2aWNlID0gY29udGFpbmVyICJDaGF0IHNlcnZpY2UiICJTZXJ2aWNlIGZvciB1c2VyIGNoYXR0aW5nIgogICAgICAgICAgICAgICAgICAgIHBvc3RncmVzX2RiX2NoYXRfc2NoZW1hID0gY29udGFpbmVyICJQb3N0Z3JlcyBEYXRhYmFzZSBbY2hhdCBzY2hlbWFdIiAiU3RvcmFnZSBmb3IgbWVzc2FnZXMgYW5kIGNoYXRzIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MgIkRhdGFiYXNlVGFnIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhY3RpdmVfbXFfYXJ0ZW1pcyA9IGNvbnRhaW5lciAiQWN0aXZlTVEgQXJ0ZW1pcyIgIlJlc3BvbnNpYmxlIGZvciByb3V0aW5nIG1lc3NhZ2VzIGluIENoYXQgc2VydmljZSBpbnN0YW5jZXMiIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGFncyAiTWVzc2FnZVF1ZXVlVGFnIgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgYWN0aXZlX21xX2FydGVtaXMgLT4gY2hhdF9zZXJ2aWNlICJTZW5kIG1lc3NhZ2UgZm9yIHVzZXIgaW4gQ2hhdCBzZXJ2aWNlIGluc3RhbmNlcyIKICAgICAgICAgICAgICAgICAgICBjaGF0X3NlcnZpY2UgLT4gcG9zdGdyZXNfZGJfY2hhdF9zY2hlbWEgIlJlYWQvV3JpdGUgbWVzc2FnZXMiCiAgICAgICAgICAgICAgICAgICAgY2hhdF9zZXJ2aWNlIC0+IGFjdGl2ZV9tcV9hcnRlbWlzICJTZW5kIG1lc3NhZ2UgZnJvbSB1c2VyIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZ3JvdXAgIkF1dGggc2VydmljZSIgewogICAgICAgICAgICAgICAgICAgIGF1dGhfc2VydmljZSA9IGNvbnRhaW5lciAiQXV0aCBzZXJ2aWNlIiAiU2VydmljZSBmb3IgdXNlciBhdXRoZW50aWNhdGlvbi9hdXRob3JpemF0aW9uIgogICAgICAgICAgICAgICAgICAgIHBvc3RncmVzX2RiX2F1dGhfc2NoZW1hID0gY29udGFpbmVyICJQb3N0Z3JlcyBEYXRhYmFzZSBbYXV0aCBzY2hlbWFdIiAiU3RvcmFnZSBmb3IgdXNlciBhdXRoZW50aWNhdGlvbiBkYXRhIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MgIkRhdGFiYXNlVGFnIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhdXRoX3NlcnZpY2UgLT4gcG9zdGdyZXNfZGJfYXV0aF9zY2hlbWEgIlJlYWQvV3JpdGUgdXNlciBhdXRoZW50aWNhdGlvbiBkYXRhIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZ3JvdXAgIk1hdGNoZXIgc2VydmljZSIgewogICAgICAgICAgICAgICAgICAgIG1hdGNoZXJfc2VydmljZSA9IGNvbnRhaW5lciAiTWF0Y2hlciBzZXJ2aWNlIiAiU2VydmljZSBmb3IgdXNlciBhcHBvaW50bWVudCBtYXRjaGluZyIKICAgICAgICAgICAgICAgICAgICBwb3N0Z3Jlc19kYl9tYXRjaGVyX3NjaGVtYSA9IGNvbnRhaW5lciAiUG9zdGdyZXMgRGF0YWJhc2UgW21hdGNoZXIgc2NoZW1hXSIgIlN0b3JhZ2UgZm9yIGFwcG9pbnRtZW50cyBhbmQgd2FsayBwcmVmZmVyZW5jZXMgZGF0YSIgewogICAgICAgICAgICAgICAgICAgICAgICB0YWdzICJEYXRhYmFzZVRhZyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcl9zZXJ2aWNlIC0+IHBvc3RncmVzX2RiX21hdGNoZXJfc2NoZW1hICJSZWFkL1dyaXRlIGFwcG9pbnRtZW50IGRhdGEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBncm91cCAiQ2x1YiBzZXJ2aWNlIiB7CiAgICAgICAgICAgICAgICAgICAgY2x1Yl9zZXJ2aWNlID0gY29udGFpbmVyICJDbHViIHNlcnZpY2UiICJTZXJ2aWNlIGZvciB1c2VyIGNsdWIgam9pbmluZyIKICAgICAgICAgICAgICAgICAgICBwb3N0Z3Jlc19kYl9jbHViX3NjaGVtYSA9IGNvbnRhaW5lciAiUG9zdGdyZXMgRGF0YWJhc2UgW2NsdWIgc2NoZW1hXSIgIlN0b3JhZ2UgZm9yIGNsdWJzIGFuZCBmb3JtcyBkYXRhIiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3MgIkRhdGFiYXNlVGFnIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjbHViX3NlcnZpY2UgLT4gcG9zdGdyZXNfZGJfY2x1Yl9zY2hlbWEgIlJlYWQvV3JpdGUgY2x1YiBkYXRhIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1hdGNoZXJfc2VydmljZSAtPiBrYWZrYSAiU2VuZCBjcmVhdGluZyBjaGF0cyBldmVudHMgYWZ0ZXIgbWF0Y2hpbmciCiAgICAgICAgICAgICAgICBrYWZrYSAtPiBjaGF0X3NlcnZpY2UgIkNvbnN1bWUgY3JlYXRpbmcgY2hhdCBldmVudCBhbmQgZG8gaXQiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGFwcCAtPiBhcGlfZ2F0ZXdheSAiVXNlIGZvciBzZW5kaW5nIHJlcXVlc3QgYW5kIHJlY2VpdmluZyBzb21lIGRhdGEiCiAgICAgICAgICAgIGFwaV9nYXRld2F5IC0+IGNoYXRfc2VydmljZSAiVXNlIGZvciBzZW5kaW5nIGFuZCByZWNlaXZpbmcgbWVzc2FnZXMiCiAgICAgICAgICAgIGFwaV9nYXRld2F5IC0+IGF1dGhfc2VydmljZSAiVXNlIGZvciBsb2dpbiAvIGxvZ291dCAvIHJlZnJlc2ggYWNjZXNzIHRva2VuIgogICAgICAgICAgICBhcGlfZ2F0ZXdheSAtPiBtYXRjaGVyX3NlcnZpY2UgIlVzZSBmb3IgZWRpdGluZyBhcHBvaW50bWVudCBwcmVmZXJlbmNlcyAvIGF2YWlsYWJsZSB0aW1lIHNsb3RzIgogICAgICAgICAgICBhcGlfZ2F0ZXdheSAtPiBjbHViX3NlcnZpY2UgIlVzZSBmb3Igam9pbmluZyB0byBncm91cHMgLyBzZW5kaW5nIGZvcm0gYW5kIGludml0YXRpb25zIC8gY3JlYXRpbmcgYW5kIGFkbWluaXN0cmF0aW5nIGdyb3VwcyIKICAgICAgICB9CiAgICAgICAgZ29vZ2xlX29hdXRoX3Byb3ZpZGVyID0gc29mdHdhcmVTeXN0ZW0gIk9BdXRoIEdvb2dsZSBwcm92aWRlciIgIkF1dGhvcml6YXRpb24gcHJvdmlkZXIgZm9yIHNpbXBsZSBhbmQgZmFzdCBsb2dpbiIKCiAgICAgICAgdXNlciAtPiByYW5kb21fd2FsayAiVXNlcyIKICAgICAgICByYW5kb21fd2FsayAtPiBnb29nbGVfb2F1dGhfcHJvdmlkZXIgIlVzZXMgZm9yIGF1dGhvcml6YXRpb24iCiAgICB9CgogICAgdmlld3MgewogICAgICAgIHN5c3RlbUNvbnRleHQgcmFuZG9tX3dhbGsgIkNvbnRleHQiIHsKICAgICAgICAgICAgaW5jbHVkZSAqCiAgICAgICAgICAgIGF1dG9sYXlvdXQgbHIKICAgICAgICB9CgogICAgICAgIGNvbnRhaW5lciByYW5kb21fd2FsayAiQ29udGFpbmVyIiB7CiAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgICAgICBhdXRvbGF5b3V0IGxyIDQwMCAxNTAKICAgICAgICB9CgogICAgICAgIHRoZW1lIGRlZmF1bHQKCiAgICAgICAgc3R5bGVzIHsKICAgICAgICAgICAgZWxlbWVudCAiU29mdHdhcmUgU3lzdGVtIiB7CiAgICAgICAgICAgICAgICBjb2xvciBibGFjawogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjOTNmYzUxCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiUGVyc29uIiB7CiAgICAgICAgICAgICAgICBjb2xvciBibGFjawogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjNTFmYzliCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiQ29udGFpbmVyIiB7CiAgICAgICAgICAgICAgICBjb2xvciBibGFjawogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjMDRkZTYzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVsYXRpb25zaGlwICJSZWxhdGlvbnNoaXAiIHsKICAgICAgICAgICAgICAgIHRoaWNrbmVzcyAxCiAgICAgICAgICAgICAgICBjb2xvciBibGFjawogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIk1vYmlsZUFwcFRhZyIgewogICAgICAgICAgICAgICAgc2hhcGUgTW9iaWxlRGV2aWNlUG9ydHJhaXQKICAgICAgICAgICAgfQogICAgICAgICAgICBlbGVtZW50ICJEYXRhYmFzZVRhZyIgewogICAgICAgICAgICAgICAgc2hhcGUgQ3lsaW5kZXIKICAgICAgICAgICAgICAgIHdpZHRoIDI1MAogICAgICAgICAgICAgICAgYmFja2dyb3VuZCBwdXJwbGUKICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoIDEwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiTWVzc2FnZVF1ZXVlVGFnIiB7CiAgICAgICAgICAgICAgICBzaGFwZSBQaXBlCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kIHJlZAogICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGggMTAKICAgICAgICAgICAgICAgIHdpZHRoIDUwMAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGNvbmZpZ3VyYXRpb24gewogICAgICAgIHNjb3BlIHNvZnR3YXJlc3lzdGVtCiAgICB9Cn0="},"views":{"configuration":{"branding":{},"lastSavedView":"Context","metadataSymbols":"SquareBrackets","styles":{"elements":[{"background":"#93fc51","color":"#000000","tag":"Software System"},{"background":"#51fc9b","color":"#000000","tag":"Person"},{"background":"#04de63","color":"#000000","tag":"Container"},{"shape":"MobileDevicePortrait","tag":"MobileAppTag"},{"background":"#800080","shape":"Cylinder","strokeWidth":10,"tag":"DatabaseTag","width":250},{"background":"#ff0000","shape":"Pipe","strokeWidth":10,"tag":"MessageQueueTag","width":500}],"relationships":[{"color":"#000000","tag":"Relationship","thickness":1}]},"terminology":{},"themes":["https://static.structurizr.com/themes/default/theme.json"]},"containerViews":[{"automaticLayout":{"applied":false,"edgeSeparation":0,"implementation":"Graphviz","nodeSeparation":150,"rankDirection":"LeftRight","rankSeparation":400,"vertices":false},"elements":[{"id":"3","x":0,"y":0},{"id":"4","x":0,"y":0},{"id":"5","x":0,"y":0},{"id":"6","x":0,"y":0},{"id":"7","x":0,"y":0},{"id":"8","x":0,"y":0},{"id":"12","x":0,"y":0},{"id":"13","x":0,"y":0},{"id":"15","x":0,"y":0},{"id":"16","x":0,"y":0},{"id":"18","x":0,"y":0},{"id":"19","x":0,"y":0}],"externalSoftwareSystemBoundariesVisible":false,"key":"Container","order":2,"relationships":[{"id":"10"},{"id":"11"},{"id":"14"},{"id":"17"},{"id":"20"},{"id":"21"},{"id":"22"},{"id":"23"},{"id":"24"},{"id":"25"},{"id":"26"},{"id":"27"},{"id":"9"}],"softwareSystemId":"2"}],"systemContextViews":[{"automaticLayout":{"applied":true,"edgeSeparation":0,"implementation":"Graphviz","nodeSeparation":300,"rankDirection":"LeftRight","rankSeparation":300,"vertices":false},"dimensions":{"height":800,"width":2350},"elements":[{"id":"1","x":200,"y":165},{"id":"2","x":950,"y":165},{"id":"28","x":1700,"y":165}],"enterpriseBoundaryVisible":true,"key":"Context","order":1,"relationships":[{"id":"29"},{"id":"30"}],"softwareSystemId":"2"}]}}